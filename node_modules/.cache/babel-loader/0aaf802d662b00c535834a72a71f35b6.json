{"ast":null,"code":"import React from'react';import{Button,/* Checkbox, */Form,Input,message}from'antd';import'./less/Login.less';import logoImg from\"../asserts/logo.png\";import{LockOutlined,UserOutlined}from'@ant-design/icons';import{Link,useNavigate}from'react-router-dom';import{RegisterApi}from'../request/api';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function Register(){var navigator=useNavigate();var onFinish=function onFinish(values){// console.log('Success:', values);\nRegisterApi({username:values.username,password:values.password}).then(function(res){console.log(res);// 提示\nif(res.errCode===0){message.success(res.message).then(function(){navigator('/login');});}else if(res.errCode===1){message.error(res.message);}});};// const onFinishFailed = (errorInfo) => {\n//   console.log('Failed:', errorInfo);\n// };\nreturn/*#__PURE__*/_jsx(\"div\",{className:\"login\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"login_box\",children:[/*#__PURE__*/_jsx(\"img\",{src:logoImg,alt:\"\"}),/*#__PURE__*/_jsxs(Form,{name:\"basic\"// labelCol={{\n//   span: 8,\n// }}\n// wrapperCol={{\n//   span: 16,\n// }}\n,initialValues:{remember:true},onFinish:onFinish// onFinishFailed={onFinishFailed}\n,autoComplete:\"off\",children:[/*#__PURE__*/_jsx(Form.Item,{// label=\"Username\"\nname:\"username\",rules:[{required:true,message:'Please input your username!'}],children:/*#__PURE__*/_jsx(Input,{size:\"large\",prefix:/*#__PURE__*/_jsx(UserOutlined,{}),placeholder:\"\\u8BF7\\u8F93\\u5165\\u7528\\u6237\\u540D\"})}),/*#__PURE__*/_jsx(Form.Item,{// label=\"Password\"\nname:\"password\",rules:[{required:true,message:'Please input your password!'}],children:/*#__PURE__*/_jsx(Input.Password,{size:\"large\",prefix:/*#__PURE__*/_jsx(LockOutlined,{}),placeholder:\"\\u8BF7\\u8F93\\u5165\\u5BC6\\u7801\"})}),/*#__PURE__*/_jsx(Form.Item,{name:\"confirm\",dependencies:['password'],hasFeedback:true,rules:[{required:true,message:'Please confirm your password!'},function(_ref){var getFieldValue=_ref.getFieldValue;return{validator:function validator(_,value){if(!value||getFieldValue('password')===value){return Promise.resolve();}return Promise.reject(new Error('The two passwords that you entered do not match!'));}};}],children:/*#__PURE__*/_jsx(Input.Password,{size:\"large\",prefix:/*#__PURE__*/_jsx(LockOutlined,{}),placeholder:\"\\u8BF7\\u518D\\u6B21\\u8F93\\u5165\\u5BC6\\u7801\"})}),/*#__PURE__*/_jsx(Form.Item,{children:/*#__PURE__*/_jsx(Link,{to:\"/login\",children:\"\\u5DF2\\u6709\\u8D26\\u53F7\\uFF1F\\u7ACB\\u5373\\u767B\\u5F55\"})}),/*#__PURE__*/_jsx(Form.Item,{children:/*#__PURE__*/_jsx(Button,{size:\"large\",type:\"primary\",htmlType:\"submit\",block:true,children:\"Submit\"})})]})]})});}","map":{"version":3,"names":["React","Button","Form","Input","message","logoImg","LockOutlined","UserOutlined","Link","useNavigate","RegisterApi","Register","navigator","onFinish","values","username","password","then","res","console","log","errCode","success","error","remember","required","getFieldValue","validator","_","value","Promise","resolve","reject","Error"],"sources":["D:/前端/项目/cms-hcj/src/pages/Register.jsx"],"sourcesContent":["import React from 'react'\r\nimport { Button, /* Checkbox, */ Form, Input, message } from 'antd';\r\nimport './less/Login.less'\r\nimport logoImg from \"../asserts/logo.png\"\r\nimport { LockOutlined, UserOutlined } from '@ant-design/icons';\r\nimport { Link, useNavigate } from 'react-router-dom';\r\nimport { RegisterApi } from '../request/api';\r\n\r\n\r\nexport default function Register() {\r\n  const navigator = useNavigate()\r\n\r\n  const onFinish = (values) => {\r\n    // console.log('Success:', values);\r\n    RegisterApi({\r\n      username: values.username,\r\n      password: values.password,\r\n    }).then(res => {\r\n      console.log(res)\r\n      // 提示\r\n      if (res.errCode === 0) {\r\n        message.success(res.message).then(() => {\r\n          navigator('/login')\r\n        })\r\n      }\r\n      else if (res.errCode === 1) {\r\n        message.error(res.message)\r\n      }\r\n\r\n    })\r\n  };\r\n  // const onFinishFailed = (errorInfo) => {\r\n  //   console.log('Failed:', errorInfo);\r\n  // };\r\n\r\n\r\n  return (\r\n    <div className=\"login\">\r\n      <div className='login_box'>\r\n        <img src={logoImg} alt=\"\" />\r\n        <Form\r\n          name=\"basic\"\r\n          // labelCol={{\r\n          //   span: 8,\r\n          // }}\r\n          // wrapperCol={{\r\n          //   span: 16,\r\n          // }}\r\n          initialValues={{\r\n            remember: true,\r\n          }}\r\n          onFinish={onFinish}\r\n          // onFinishFailed={onFinishFailed}\r\n          autoComplete=\"off\"\r\n        >\r\n          <Form.Item\r\n            // label=\"Username\"\r\n            name=\"username\"\r\n\r\n            rules={[\r\n              {\r\n                required: true,\r\n                message: 'Please input your username!',\r\n              },\r\n            ]}\r\n          >\r\n            <Input size='large' prefix={<UserOutlined />} placeholder=\"请输入用户名\" />\r\n          </Form.Item>\r\n\r\n          <Form.Item\r\n            // label=\"Password\"\r\n            name=\"password\"\r\n\r\n            rules={[\r\n              {\r\n                required: true,\r\n                message: 'Please input your password!',\r\n              },\r\n            ]}\r\n          >\r\n            <Input.Password size='large' prefix={<LockOutlined />} placeholder=\"请输入密码\" />\r\n          </Form.Item>\r\n\r\n          {/* <Form.Item\r\n            name=\"remember\"\r\n            valuePropName=\"checked\"\r\n            wrapperCol={{\r\n              offset: 8,\r\n              span: 16,\r\n            }}\r\n          >\r\n            <Checkbox>Remember me</Checkbox>\r\n          </Form.Item> */}\r\n\r\n          <Form.Item\r\n            name=\"confirm\"\r\n            dependencies={['password']}\r\n            hasFeedback\r\n            rules={[\r\n              {\r\n                required: true,\r\n                message: 'Please confirm your password!',\r\n              },\r\n              ({ getFieldValue }) => ({\r\n                validator(_, value) {\r\n                  if (!value || getFieldValue('password') === value) {\r\n                    return Promise.resolve();\r\n                  }\r\n                  return Promise.reject(new Error('The two passwords that you entered do not match!'));\r\n                },\r\n              }),\r\n            ]}\r\n          >\r\n            <Input.Password size='large' prefix={<LockOutlined />} placeholder=\"请再次输入密码\" />\r\n          </Form.Item>\r\n          <Form.Item>\r\n            <Link to=\"/login\">已有账号？立即登录</Link>\r\n          </Form.Item>\r\n          <Form.Item\r\n          // wrapperCol={{\r\n          //   offset: 8,\r\n          //   span: 16,\r\n          // }}\r\n          >\r\n            <Button size='large' type=\"primary\" htmlType=\"submit\" block>\r\n              Submit\r\n            </Button>\r\n          </Form.Item>\r\n        </Form>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}