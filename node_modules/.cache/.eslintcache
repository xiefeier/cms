[{"D:\\前端\\项目\\cms-hcj\\src\\index.js":"1","D:\\前端\\项目\\cms-hcj\\src\\App.jsx":"2","D:\\前端\\项目\\cms-hcj\\src\\router\\index.jsx":"3","D:\\前端\\项目\\cms-hcj\\src\\pages\\Login.jsx":"4","D:\\前端\\项目\\cms-hcj\\src\\pages\\Register.jsx":"5","D:\\前端\\项目\\cms-hcj\\src\\pages\\Means.jsx":"6","D:\\前端\\项目\\cms-hcj\\src\\request\\api.js":"7","D:\\前端\\项目\\cms-hcj\\src\\request\\request.js":"8","D:\\前端\\项目\\cms-hcj\\src\\components\\Header.jsx":"9","D:\\前端\\项目\\cms-hcj\\src\\components\\Slider.jsx":"10","D:\\前端\\项目\\cms-hcj\\src\\pages\\Edit.jsx":"11","D:\\前端\\项目\\cms-hcj\\src\\pages\\ListTable.jsx":"12","D:\\前端\\项目\\cms-hcj\\src\\pages\\ListList.jsx":"13","D:\\前端\\项目\\cms-hcj\\src\\components\\MixTitle.jsx":"14","D:\\前端\\项目\\cms-hcj\\src\\store\\index.js":"15","D:\\前端\\项目\\cms-hcj\\src\\store\\reducer.js":"16"},{"size":481,"mtime":1667898719339,"results":"17","hashOfConfig":"18"},{"size":1953,"mtime":1667907891817,"results":"19","hashOfConfig":"18"},{"size":1069,"mtime":1667387846102,"results":"20","hashOfConfig":"18"},{"size":3276,"mtime":1667116282825,"results":"21","hashOfConfig":"18"},{"size":3731,"mtime":1667051449009,"results":"22","hashOfConfig":"18"},{"size":4825,"mtime":1669276580616,"results":"23","hashOfConfig":"18"},{"size":703,"mtime":1667892458699,"results":"24","hashOfConfig":"18"},{"size":798,"mtime":1667389035666,"results":"25","hashOfConfig":"18"},{"size":3043,"mtime":1667907798961,"results":"26","hashOfConfig":"18"},{"size":1720,"mtime":1667807398121,"results":"27","hashOfConfig":"18"},{"size":6742,"mtime":1667826473998,"results":"28","hashOfConfig":"18"},{"size":4273,"mtime":1667825082370,"results":"29","hashOfConfig":"18"},{"size":2919,"mtime":1667825108226,"results":"30","hashOfConfig":"18"},{"size":406,"mtime":1667266565105,"results":"31","hashOfConfig":"18"},{"size":188,"mtime":1667899190904,"results":"32","hashOfConfig":"18"},{"size":326,"mtime":1667907988853,"results":"33","hashOfConfig":"18"},{"filePath":"34","messages":"35","suppressedMessages":"36","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"1hgqcy6",{"filePath":"37","messages":"38","suppressedMessages":"39","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"40","messages":"41","suppressedMessages":"42","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"43","messages":"44","suppressedMessages":"45","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"46","messages":"47","suppressedMessages":"48","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"49","messages":"50","suppressedMessages":"51","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"52","messages":"53","suppressedMessages":"54","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"55","messages":"56","suppressedMessages":"57","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"58","messages":"59","suppressedMessages":"60","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"61","messages":"62","suppressedMessages":"63","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"64","messages":"65","suppressedMessages":"66","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"67","messages":"68","suppressedMessages":"69","errorCount":0,"fatalErrorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"70"},{"filePath":"71","messages":"72","suppressedMessages":"73","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"74","messages":"75","suppressedMessages":"76","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":1,"source":"77"},{"filePath":"78","messages":"79","suppressedMessages":"80","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"81","messages":"82","suppressedMessages":"83","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"84"},"D:\\前端\\项目\\cms-hcj\\src\\index.js",[],[],"D:\\前端\\项目\\cms-hcj\\src\\App.jsx",[],[],"D:\\前端\\项目\\cms-hcj\\src\\router\\index.jsx",[],[],"D:\\前端\\项目\\cms-hcj\\src\\pages\\Login.jsx",[],[],"D:\\前端\\项目\\cms-hcj\\src\\pages\\Register.jsx",[],[],"D:\\前端\\项目\\cms-hcj\\src\\pages\\Means.jsx",[],[],"D:\\前端\\项目\\cms-hcj\\src\\request\\api.js",[],[],"D:\\前端\\项目\\cms-hcj\\src\\request\\request.js",[],[],"D:\\前端\\项目\\cms-hcj\\src\\components\\Header.jsx",[],[],"D:\\前端\\项目\\cms-hcj\\src\\components\\Slider.jsx",[],[],"D:\\前端\\项目\\cms-hcj\\src\\pages\\Edit.jsx",[],[],"D:\\前端\\项目\\cms-hcj\\src\\pages\\ListTable.jsx",["85","86","87"],[],"import React, { useEffect } from 'react'\r\nimport { Link } from 'react-router-dom';\r\nimport './less/list_table.less'\r\nimport { Space, Table, /* Tag,  */Button } from 'antd';\r\nimport { useState } from 'react';\r\nimport { ArticlesApi,removeArticleApi } from '../request/api';\r\nimport MixTitle from '../components/MixTitle';\r\nimport moment from 'moment';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport { message } from 'antd';\r\n// const data = [{\r\n//     key: '1',\r\n//     name: 'John Brown',\r\n//     date: '2022-10-31 15:07:25',\r\n// }]\r\n\r\nexport default function ListTable() {\r\n    const [rows, setRows] = useState([])\r\n    const [flash, setFlash] = useState(0)\r\n\r\n    const navigate = useNavigate()\r\n    // 分页\r\n    const [pagination, setPagination] = useState({\r\n        current: 1,\r\n        pageSize: 5\r\n    })\r\n\r\n    // 封装请求\r\n    const getArticleList = (cunrrent, pageSize) => {\r\n        ArticlesApi({\r\n            num: cunrrent,\r\n            count: pageSize\r\n        }).then(res => {\r\n            let { num, count, total } = res.data\r\n            setPagination({\r\n                cunrrent: num,\r\n                pageSize: count,\r\n                total: total\r\n            })\r\n            // res.data.total\r\n            // 深拷贝\r\n            let newarr = JSON.parse(JSON.stringify(res.data.arr))\r\n            let viewarticles = []\r\n            newarr.map(item => {\r\n                console.log(item)\r\n\r\n                // item.date = moment(item.date).format('YYYY-MM-DD hh:mm:ss')\r\n                // item.mixTitle = `<div>\r\n                //     <Link className='table_title' to='/'>${item.title }</Link>\r\n                //     <p style={{ color: \"#999\" }}>\r\n                //     ${item.subTitle }\r\n                //     </p>\r\n                // </div>`\r\n\r\n                // 组件化开发\r\n                let obj = {\r\n                    key: item.id,\r\n                    date: moment(item.date).format('YYYY-MM-DD hh:mm:ss'),\r\n                    mixTitle: <MixTitle id={item.id} title={item.title} subTitle={item.subTitle}></MixTitle>\r\n                }\r\n                viewarticles.push(obj)\r\n            })\r\n\r\n\r\n            setRows(viewarticles)\r\n\r\n        })\r\n    }\r\n\r\n    const onChange = (pagination) => {\r\n        // console.log(pagination)\r\n        getArticleList(pagination.current, pagination.pageSize)\r\n    }\r\n    useEffect(() => {\r\n        // console.log(pagination)\r\n        getArticleList(pagination.current, pagination.pageSize)\r\n    }, [flash])\r\n\r\n    const columns = [\r\n        {\r\n            dataIndex: 'mixTitle',\r\n            key: 'mixTitle',\r\n            width: '60%',\r\n            render: (text) =>\r\n                text\r\n            // <>\r\n            //     <Link className='table_title' to='/'>{ }</Link>\r\n            //     <p style={{ color: \"#999\" }}>\r\n            //         {text}\r\n            //     </p>\r\n            // </>\r\n            ,\r\n        },\r\n        {\r\n            dataIndex: 'date',\r\n            key: 'date',\r\n        },\r\n        {\r\n            key: 'action',\r\n            render: (text) => {\r\n                return (\r\n                    <Space size=\"middle\">\r\n                        <Button type='primary' onClick={() => navigate('/edit/' + text.key)}>编辑</Button>\r\n                        <Button type='primary' onClick={() => {\r\n                            removeArticleApi({ id: text.key }).then(res => {\r\n                                if (res.errCode === 0) {\r\n                                    message.success(res.message)\r\n                                    setFlash(flash + 1)\r\n                                    // getArticleList(pagination.current, pagination.pageSize)\r\n                                } else {\r\n                                    message.error(res.message)\r\n                                }\r\n                            })\r\n                        }} danger>删除</Button>\r\n                    </Space>\r\n                )\r\n            },\r\n        },\r\n    ];\r\n\r\n    return (\r\n        <div className='list_table'>\r\n            <Table pagination={pagination}\r\n                showHeader={false}\r\n                columns={columns}\r\n                dataSource={rows}\r\n                onChange={onChange}\r\n            />\r\n        </div>\r\n    )\r\n}\r\n\r\n\r\n\r\n","D:\\前端\\项目\\cms-hcj\\src\\pages\\ListList.jsx",[],[],"D:\\前端\\项目\\cms-hcj\\src\\components\\MixTitle.jsx",["88"],[],"import React from 'react'\r\n// import { Link } from 'react-router-dom'\r\nexport default function MixTitle(props) {\r\n    return (\r\n        <div>\r\n            <a className='table_title' href={\"http://codesohigh.com:8765/article/\"\r\n            +props.id} target='_blank'>{props.title}</a>\r\n            <p style={{ color: \"#999\" }}>\r\n                {props.subTitle}\r\n            </p>\r\n        </div>\r\n    )\r\n}\r\n","D:\\前端\\项目\\cms-hcj\\src\\store\\index.js",[],[],"D:\\前端\\项目\\cms-hcj\\src\\store\\reducer.js",["89"],[],"const defaultState = {\r\n    avatarTag:1\r\n}\r\nexport default (state=defaultState,action) =>{\r\n    let newState = JSON.parse(JSON.stringify(state))\r\n\r\n    switch(action.type){\r\n        case 'addAvatarTag':\r\n            newState.avatarTag++;\r\n            break\r\n        default:\r\n            break\r\n    }\r\n\r\n    return newState\r\n}",{"ruleId":"90","severity":1,"message":"91","line":2,"column":10,"nodeType":"92","messageId":"93","endLine":2,"endColumn":14},{"ruleId":"94","severity":1,"message":"95","line":44,"column":29,"nodeType":"96","messageId":"97","endLine":44,"endColumn":31},{"ruleId":"98","severity":1,"message":"99","line":77,"column":8,"nodeType":"100","endLine":77,"endColumn":15,"suggestions":"101"},{"ruleId":"102","severity":1,"message":"103","line":6,"column":13,"nodeType":"104","messageId":"105","endLine":7,"endColumn":40,"fix":"106"},{"ruleId":"107","severity":1,"message":"108","line":4,"column":1,"nodeType":"109","endLine":16,"endColumn":2},"no-unused-vars","'Link' is defined but never used.","Identifier","unusedVar","array-callback-return","Array.prototype.map() expects a return value from arrow function.","ArrowFunctionExpression","expectedInside","react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'pagination'. Either include it or remove the dependency array.","ArrayExpression",["110"],"react/jsx-no-target-blank","Using target=\"_blank\" without rel=\"noreferrer\" (which implies rel=\"noopener\") is a security risk in older browsers: see https://mathiasbynens.github.io/rel-noopener/#recommendations","JSXOpeningElement","noTargetBlankWithoutNoreferrer",{"range":"111","text":"112"},"import/no-anonymous-default-export","Assign arrow function to a variable before exporting as module default","ExportDefaultDeclaration",{"desc":"113","fix":"114"},[265,265]," rel=\"noreferrer\"","Update the dependencies array to be: [flash, pagination]",{"range":"115","text":"116"},[2463,2470],"[flash, pagination]"]